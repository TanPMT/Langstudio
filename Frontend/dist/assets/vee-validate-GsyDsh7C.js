import{y as _t,av as qe,r as jt,aw as Et,J as G,ax as Be,ay as P,az as g,E as J,aA as k,aB as At,aC as Ge,aD as He,aE as Ke,aF as wt,aG as Ft,z as Pt}from"./index-CKNFkSVT.js";/**
  * vee-validate v4.15.0
  * (c) 2024 Abdelrahman Awad
  * @license MIT
  */function M(e){return typeof e=="function"}function nt(e){return e==null}const ee=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function Me(e){return Number(e)>=0}function It(e){return typeof e=="object"&&e!==null}function Ct(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function Ye(e){if(!It(e)||Ct(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function le(e,t){return Object.keys(t).forEach(r=>{if(Ye(t[r])&&Ye(e[r])){e[r]||(e[r]={}),le(e[r],t[r]);return}e[r]=t[r]}),e}function ge(e){const t=e.split(".");if(!t.length)return"";let r=String(t[0]);for(let a=1;a<t.length;a++){if(Me(t[a])){r+=`[${t[a]}]`;continue}r+=`.${t[a]}`}return r}const Tt={};function Nt(e){return Tt[e]}function xe(e,t,r){typeof r.value=="object"&&(r.value=p(r.value)),!r.enumerable||r.get||r.set||!r.configurable||!r.writable||t==="__proto__"?Object.defineProperty(e,t,r):e[t]=r.value}function p(e){if(typeof e!="object")return e;var t=0,r,a,u,o=Object.prototype.toString.call(e);if(o==="[object Object]"?u=Object.create(e.__proto__||null):o==="[object Array]"?u=Array(e.length):o==="[object Set]"?(u=new Set,e.forEach(function(v){u.add(p(v))})):o==="[object Map]"?(u=new Map,e.forEach(function(v,m){u.set(p(m),p(v))})):o==="[object Date]"?u=new Date(+e):o==="[object RegExp]"?u=new RegExp(e.source,e.flags):o==="[object DataView]"?u=new e.constructor(p(e.buffer)):o==="[object ArrayBuffer]"?u=e.slice(0):o.slice(-6)==="Array]"&&(u=new e.constructor(e)),u){for(a=Object.getOwnPropertySymbols(e);t<a.length;t++)xe(u,a[t],Object.getOwnPropertyDescriptor(e,a[t]));for(t=0,a=Object.getOwnPropertyNames(e);t<a.length;t++)Object.hasOwnProperty.call(u,r=a[t])&&u[r]===e[r]||xe(u,r,Object.getOwnPropertyDescriptor(e,r))}return u||e}const Rt=Symbol("vee-validate-form"),Bt=Symbol("vee-validate-form-context"),Mt=typeof window<"u";function Dt(e){return M(e)&&!!e.__locatorRef}function H(e){return!!e&&M(e.parse)&&e.__type==="VVTypedSchema"}function it(e){return!!e&&M(e.validate)}function kt(e){return e==="checkbox"||e==="radio"}function zt(e){return ee(e)||Array.isArray(e)}function Ut(e){return Array.isArray(e)?e.length===0:ee(e)&&Object.keys(e).length===0}function Oe(e){return/^\[.+\]$/i.test(e)}function Lt(e){return at(e)&&e.multiple}function at(e){return e.tagName==="SELECT"}function lt(e){return De(e)&&e.target&&"submit"in e.target}function De(e){return e?!!(typeof Event<"u"&&M(Event)&&e instanceof Event||e&&e.srcElement):!1}function ae(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,a,u;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(a=r;a--!==0;)if(!ae(e[a],t[a]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(a of e.entries())if(!t.has(a[0]))return!1;for(a of e.entries())if(!ae(a[1],t.get(a[0])))return!1;return!0}if(Qe(e)&&Qe(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(a of e.entries())if(!t.has(a[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(a=r;a--!==0;)if(e[a]!==t[a])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(u=Object.keys(e),r=u.length-Je(e,u),r!==Object.keys(t).length-Je(t,Object.keys(t)))return!1;for(a=r;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,u[a]))return!1;for(a=r;a--!==0;){var o=u[a];if(!ae(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Je(e,t){let r=0;for(let u=t.length;u--!==0;){var a=t[u];e[a]===void 0&&r++}return r}function Qe(e){return Mt?e instanceof File:!1}function ke(e){return Oe(e)?e.replace(/\[|\]/gi,""):e}function L(e,t,r){return e?Oe(t)?e[ke(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((u,o)=>zt(u)&&o in u?u[o]:r,e):r}function U(e,t,r){if(Oe(t)){e[ke(t)]=r;return}const a=t.split(/\.|\[(\d+)\]/).filter(Boolean);let u=e;for(let o=0;o<a.length;o++){if(o===a.length-1){u[a[o]]=r;return}(!(a[o]in u)||nt(u[a[o]]))&&(u[a[o]]=Me(a[o+1])?[]:{}),u=u[a[o]]}}function Ne(e,t){if(Array.isArray(e)&&Me(t)){e.splice(Number(t),1);return}ee(e)&&delete e[t]}function Xe(e,t){if(Oe(t)){delete e[ke(t)];return}const r=t.split(/\.|\[(\d+)\]/).filter(Boolean);let a=e;for(let o=0;o<r.length;o++){if(o===r.length-1){Ne(a,r[o]);break}if(!(r[o]in a)||nt(a[r[o]]))break;a=a[r[o]]}const u=r.map((o,v)=>L(e,r.slice(0,v).join(".")));for(let o=u.length-1;o>=0;o--)if(Ut(u[o])){if(o===0){Ne(e,r[0]);continue}Ne(u[o-1],r[o-1])}}function B(e){return Object.keys(e)}function Ze(e,t=0){let r=null,a=[];return function(...u){return r&&clearTimeout(r),r=setTimeout(()=>{const o=e(...u);a.forEach(v=>v(o)),a=[]},t),new Promise(o=>a.push(o))}}function $t(e,t){let r;return async function(...u){const o=e(...u);r=o;const v=await o;return o!==r?v:(r=void 0,t(v,u))}}function et(e){return Array.isArray(e)?e:e?[e]:[]}function be(e,t){const r={};for(const a in e)t.includes(a)||(r[a]=e[a]);return r}function Wt(e){let t=null,r=[];return function(...a){const u=k(()=>{if(t!==u)return;const o=e(...a);r.forEach(v=>v(o)),r=[],t=null});return t=u,new Promise(o=>r.push(o))}}function qt(e,t,r){return t.slots.default?typeof e=="string"||!e?t.slots.default(r()):{default:()=>{var a,u;return(u=(a=t.slots).default)===null||u===void 0?void 0:u.call(a,r())}}:t.slots.default}function Re(e){if(ut(e))return e._value}function ut(e){return"_value"in e}function Gt(e){return e.type==="number"||e.type==="range"?Number.isNaN(e.valueAsNumber)?e.value:e.valueAsNumber:e.value}function tt(e){if(!De(e))return e;const t=e.target;if(kt(t.type)&&ut(t))return Re(t);if(t.type==="file"&&t.files){const r=Array.from(t.files);return t.multiple?r:r[0]}if(Lt(t))return Array.from(t.options).filter(r=>r.selected&&!r.disabled).map(Re);if(at(t)){const r=Array.from(t.options).find(a=>a.selected);return r?Re(r):t.value}return Gt(t)}function Ht(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?ee(e)&&e._$$isNormalized?e:ee(e)?Object.keys(e).reduce((r,a)=>{const u=Kt(e[a]);return e[a]!==!1&&(r[a]=rt(u)),r},t):typeof e!="string"?t:e.split("|").reduce((r,a)=>{const u=Yt(a);return u.name&&(r[u.name]=rt(u.params)),r},t):t}function Kt(e){return e===!0?[]:Array.isArray(e)||ee(e)?e:[e]}function rt(e){const t=r=>typeof r=="string"&&r[0]==="@"?xt(r.slice(1)):r;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((r,a)=>(r[a]=t(e[a]),r),{})}const Yt=e=>{let t=[];const r=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:r,params:t}};function xt(e){const t=r=>{var a;return(a=L(r,e))!==null&&a!==void 0?a:r[e]};return t.__locatorRef=e,t}const Jt={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let Qt=Object.assign({},Jt);const ie=()=>Qt;async function Xt(e,t,r={}){const a=r==null?void 0:r.bails,u={name:(r==null?void 0:r.name)||"{field}",rules:t,label:r==null?void 0:r.label,bails:a??!0,formData:(r==null?void 0:r.values)||{}},o=await Zt(u,e);return Object.assign(Object.assign({},o),{valid:!o.errors.length})}async function Zt(e,t){const r=e.rules;if(H(r)||it(r))return tr(t,Object.assign(Object.assign({},e),{rules:r}));if(M(r)||Array.isArray(r)){const m={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},b=Array.isArray(r)?r:[r],c=b.length,y=[];for(let j=0;j<c;j++){const A=b[j],_=await A(t,m);if(!(typeof _!="string"&&!Array.isArray(_)&&_)){if(Array.isArray(_))y.push(..._);else{const D=typeof _=="string"?_:st(m);y.push(D)}if(e.bails)return{errors:y}}}return{errors:y}}const a=Object.assign(Object.assign({},e),{rules:Ht(r)}),u=[],o=Object.keys(a.rules),v=o.length;for(let m=0;m<v;m++){const b=o[m],c=await rr(a,t,{name:b,params:a.rules[b]});if(c.error&&(u.push(c.error),e.bails))return{errors:u}}return{errors:u}}function er(e){return!!e&&e.name==="ValidationError"}function ot(e){return{__type:"VVTypedSchema",async parse(r,a){var u;try{return{output:await e.validate(r,{abortEarly:!1,context:(a==null?void 0:a.formData)||{}}),errors:[]}}catch(o){if(!er(o))throw o;if(!(!((u=o.inner)===null||u===void 0)&&u.length)&&o.errors.length)return{errors:[{path:o.path,errors:o.errors}]};const v=o.inner.reduce((m,b)=>{const c=b.path||"";return m[c]||(m[c]={errors:[],path:c}),m[c].errors.push(...b.errors),m},{});return{errors:Object.values(v)}}}}}async function tr(e,t){const a=await(H(t.rules)?t.rules:ot(t.rules)).parse(e,{formData:t.formData}),u=[];for(const o of a.errors)o.errors.length&&u.push(...o.errors);return{value:a.value,errors:u}}async function rr(e,t,r){const a=Nt(r.name);if(!a)throw new Error(`No such validator '${r.name}' exists.`);const u=nr(r.params,e.formData),o={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},r),{params:u})},v=await a(t,u,o);return typeof v=="string"?{error:v}:{error:v?void 0:st(o)}}function st(e){const t=ie().generateMessage;return t?t(e):"Field is invalid"}function nr(e,t){const r=a=>Dt(a)?a(t):a;return Array.isArray(e)?e.map(r):Object.keys(e).reduce((a,u)=>(a[u]=r(e[u]),a),{})}async function ir(e,t){const a=await(H(e)?e:ot(e)).parse(p(t),{formData:p(t)}),u={},o={};for(const v of a.errors){const m=v.errors,b=(v.path||"").replace(/\["(\d+)"\]/g,(c,y)=>`[${y}]`);u[b]={valid:!m.length,errors:m},m.length&&(o[b]=m[0])}return{valid:!a.errors.length,results:u,errors:o,values:a.value,source:"schema"}}async function ar(e,t,r){const u=B(e).map(async c=>{var y,j,A;const _=(y=r==null?void 0:r.names)===null||y===void 0?void 0:y[c],I=await Xt(L(t,c),e[c],{name:(_==null?void 0:_.name)||c,label:_==null?void 0:_.label,values:t,bails:(A=(j=r==null?void 0:r.bailsMap)===null||j===void 0?void 0:j[c])!==null&&A!==void 0?A:!0});return Object.assign(Object.assign({},I),{path:c})});let o=!0;const v=await Promise.all(u),m={},b={};for(const c of v)m[c.path]={valid:c.valid,errors:c.errors},c.valid||(o=!1,b[c.path]=c.errors[0]);return{valid:o,results:m,errors:b,source:"schema"}}let lr=0;const pe=["bails","fieldsCount","id","multiple","type","validate"];function ct(e){const t=(e==null?void 0:e.initialValues)||{},r=Object.assign({},g(t)),a=J(e==null?void 0:e.validationSchema);return a&&H(a)&&M(a.cast)?p(a.cast(r)||{}):p(r)}function ur(e){var t;const r=lr++,a=(e==null?void 0:e.name)||"Form";let u=0;const o=G(!1),v=G(!1),m=G(0),b=[],c=Be(ct(e)),y=G([]),j=G({}),A=G({}),_=Wt(()=>{A.value=y.value.reduce((i,n)=>(i[ge(g(n.path))]=n,i),{})});function I(i,n){const l=O(i);if(!l){typeof i=="string"&&(j.value[ge(i)]=et(n));return}if(typeof i=="string"){const s=ge(i);j.value[s]&&delete j.value[s]}l.errors=et(n),l.valid=!l.errors.length}function D(i){B(i).forEach(n=>{I(n,i[n])})}e!=null&&e.initialErrors&&D(e.initialErrors);const K=P(()=>{const i=y.value.reduce((n,l)=>(l.errors.length&&(n[g(l.path)]=l.errors),n),{});return Object.assign(Object.assign({},j.value),i)}),Q=P(()=>B(K.value).reduce((i,n)=>{const l=K.value[n];return l!=null&&l.length&&(i[n]=l[0]),i},{})),ue=P(()=>y.value.reduce((i,n)=>(i[g(n.path)]={name:g(n.path)||"",label:n.label||""},i),{})),oe=P(()=>y.value.reduce((i,n)=>{var l;return i[g(n.path)]=(l=n.bails)!==null&&l!==void 0?l:!0,i},{})),te=Object.assign({},(e==null?void 0:e.initialErrors)||{}),se=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:$,originalInitialValues:W,setInitialValues:ce}=sr(y,c,e),Se=or(y,c,W,Q),de=P(()=>y.value.reduce((i,n)=>{const l=L(c,g(n.path));return U(i,g(n.path),l),i},{})),N=e==null?void 0:e.validationSchema;function Y(i,n){var l,s;const f=P(()=>L($.value,g(i))),h=A.value[g(i)],d=(n==null?void 0:n.type)==="checkbox"||(n==null?void 0:n.type)==="radio";if(h&&d){h.multiple=!0;const R=u++;return Array.isArray(h.id)?h.id.push(R):h.id=[h.id,R],h.fieldsCount++,h.__flags.pendingUnmount[R]=!1,h}const V=P(()=>L(c,g(i))),E=g(i),w=X.findIndex(R=>R===E);w!==-1&&X.splice(w,1);const S=P(()=>{var R,ne,Pe,Ie;const Ce=g(N);if(H(Ce))return(ne=(R=Ce.describe)===null||R===void 0?void 0:R.call(Ce,g(i)).required)!==null&&ne!==void 0?ne:!1;const Te=g(n==null?void 0:n.schema);return H(Te)&&(Ie=(Pe=Te.describe)===null||Pe===void 0?void 0:Pe.call(Te).required)!==null&&Ie!==void 0?Ie:!1}),F=u++,T=Be({id:F,path:i,touched:!1,pending:!1,valid:!0,validated:!!(!((l=te[E])===null||l===void 0)&&l.length),required:S,initialValue:f,errors:Pt([]),bails:(s=n==null?void 0:n.bails)!==null&&s!==void 0?s:!1,label:n==null?void 0:n.label,type:(n==null?void 0:n.type)||"default",value:V,multiple:!1,__flags:{pendingUnmount:{[F]:!1},pendingReset:!1},fieldsCount:1,validate:n==null?void 0:n.validate,dirty:P(()=>!ae(J(V),J(f)))});return y.value.push(T),A.value[E]=T,_(),Q.value[E]&&!te[E]&&k(()=>{x(E,{mode:"silent"})}),Ge(i)&&He(i,R=>{_();const ne=p(V.value);A.value[R]=T,k(()=>{U(c,R,ne)})}),T}const fe=Ze($e,5),ve=Ze($e,5),me=$t(async i=>await(i==="silent"?fe():ve()),(i,[n])=>{const l=B(z.errorBag.value),f=[...new Set([...B(i.results),...y.value.map(h=>h.path),...l])].sort().reduce((h,d)=>{var V;const E=d,w=O(E)||re(E),S=((V=i.results[E])===null||V===void 0?void 0:V.errors)||[],F=g(w==null?void 0:w.path)||E,T=cr({errors:S,valid:!S.length},h.results[F]);return h.results[F]=T,T.valid||(h.errors[F]=T.errors[0]),w&&j.value[F]&&delete j.value[F],w?(w.valid=T.valid,n==="silent"||n==="validated-only"&&!w.validated||I(w,T.errors),h):(I(F,S),h)},{valid:i.valid,results:{},errors:{},source:i.source});return i.values&&(f.values=i.values,f.source=i.source),B(f.results).forEach(h=>{var d;const V=O(h);V&&n!=="silent"&&(n==="validated-only"&&!V.validated||I(V,(d=f.results[h])===null||d===void 0?void 0:d.errors))}),f});function C(i){y.value.forEach(i)}function O(i){const n=typeof i=="string"?ge(i):i;return typeof n=="string"?A.value[n]:n}function re(i){return y.value.filter(l=>i.startsWith(g(l.path))).reduce((l,s)=>l?s.path.length>l.path.length?s:l:s,void 0)}let X=[],he;function dt(i){return X.push(i),he||(he=k(()=>{[...X].sort().reverse().forEach(l=>{Xe(c,l)}),X=[],he=null})),he}function ze(i){return function(l,s){return function(h){return h instanceof Event&&(h.preventDefault(),h.stopPropagation()),C(d=>d.touched=!0),o.value=!0,m.value++,Z().then(d=>{const V=p(c);if(d.valid&&typeof l=="function"){const E=p(de.value);let w=i?E:V;return d.values&&(w=d.source==="schema"?d.values:Object.assign({},w,d.values)),l(w,{evt:h,controlledValues:E,setErrors:D,setFieldError:I,setTouched:Ee,setFieldTouched:ye,setValues:_e,setFieldValue:q,resetForm:Ae,resetField:Ue})}!d.valid&&typeof s=="function"&&s({values:V,evt:h,errors:d.errors,results:d.results})}).then(d=>(o.value=!1,d),d=>{throw o.value=!1,d})}}}const Ve=ze(!1);Ve.withControlled=ze(!0);function ft(i,n){const l=y.value.findIndex(f=>f.path===i&&(Array.isArray(f.id)?f.id.includes(n):f.id===n)),s=y.value[l];if(!(l===-1||!s)){if(k(()=>{x(i,{mode:"silent",warn:!1})}),s.multiple&&s.fieldsCount&&s.fieldsCount--,Array.isArray(s.id)){const f=s.id.indexOf(n);f>=0&&s.id.splice(f,1),delete s.__flags.pendingUnmount[n]}(!s.multiple||s.fieldsCount<=0)&&(y.value.splice(l,1),Le(i),_(),delete A.value[i])}}function vt(i){B(A.value).forEach(n=>{n.startsWith(i)&&delete A.value[n]}),y.value=y.value.filter(n=>!n.path.startsWith(i)),k(()=>{_()})}const z={name:a,formId:r,values:c,controlledValues:de,errorBag:K,errors:Q,schema:N,submitCount:m,meta:Se,isSubmitting:o,isValidating:v,fieldArrays:b,keepValuesOnUnmount:se,validateSchema:J(N)?me:void 0,validate:Z,setFieldError:I,validateField:x,setFieldValue:q,setValues:_e,setErrors:D,setFieldTouched:ye,setTouched:Ee,resetForm:Ae,resetField:Ue,handleSubmit:Ve,useFieldModel:Ot,defineInputBinds:St,defineComponentBinds:Vt,defineField:Fe,stageInitialValue:bt,unsetInitialValue:Le,setFieldInitialValue:we,createPathState:Y,getPathState:O,unsetPathValue:dt,removePathState:ft,initialValues:$,getAllPathStates:()=>y.value,destroyPath:vt,isFieldTouched:ht,isFieldDirty:yt,isFieldValid:gt};function q(i,n,l=!0){const s=p(n),f=typeof i=="string"?i:i.path;O(f)||Y(f),U(c,f,s),l&&x(f)}function mt(i,n=!0){B(c).forEach(l=>{delete c[l]}),B(i).forEach(l=>{q(l,i[l],!1)}),n&&Z()}function _e(i,n=!0){le(c,i),b.forEach(l=>l&&l.reset()),n&&Z()}function je(i,n){const l=O(g(i))||Y(i);return P({get(){return l.value},set(s){var f;const h=g(i);q(h,s,(f=g(n))!==null&&f!==void 0?f:!1)}})}function ye(i,n){const l=O(i);l&&(l.touched=n)}function ht(i){const n=O(i);return n?n.touched:y.value.filter(l=>l.path.startsWith(i)).some(l=>l.touched)}function yt(i){const n=O(i);return n?n.dirty:y.value.filter(l=>l.path.startsWith(i)).some(l=>l.dirty)}function gt(i){const n=O(i);return n?n.valid:y.value.filter(l=>l.path.startsWith(i)).every(l=>l.valid)}function Ee(i){if(typeof i=="boolean"){C(n=>{n.touched=i});return}B(i).forEach(n=>{ye(n,!!i[n])})}function Ue(i,n){var l;const s=n&&"value"in n?n.value:L($.value,i),f=O(i);f&&(f.__flags.pendingReset=!0),we(i,p(s),!0),q(i,s,!1),ye(i,(l=n==null?void 0:n.touched)!==null&&l!==void 0?l:!1),I(i,(n==null?void 0:n.errors)||[]),k(()=>{f&&(f.__flags.pendingReset=!1)})}function Ae(i,n){let l=p(i!=null&&i.values?i.values:W.value);l=n!=null&&n.force?l:le(W.value,l),l=H(N)&&M(N.cast)?N.cast(l):l,ce(l,{force:n==null?void 0:n.force}),C(s=>{var f;s.__flags.pendingReset=!0,s.validated=!1,s.touched=((f=i==null?void 0:i.touched)===null||f===void 0?void 0:f[g(s.path)])||!1,q(g(s.path),L(l,g(s.path)),!1),I(g(s.path),void 0)}),n!=null&&n.force?mt(l,!1):_e(l,!1),D((i==null?void 0:i.errors)||{}),m.value=(i==null?void 0:i.submitCount)||0,k(()=>{Z({mode:"silent"}),C(s=>{s.__flags.pendingReset=!1})})}async function Z(i){const n=(i==null?void 0:i.mode)||"force";if(n==="force"&&C(d=>d.validated=!0),z.validateSchema)return z.validateSchema(n);v.value=!0;const l=await Promise.all(y.value.map(d=>d.validate?d.validate(i).then(V=>({key:g(d.path),valid:V.valid,errors:V.errors,value:V.value})):Promise.resolve({key:g(d.path),valid:!0,errors:[],value:void 0})));v.value=!1;const s={},f={},h={};for(const d of l)s[d.key]={valid:d.valid,errors:d.errors},d.value&&U(h,d.key,d.value),d.errors.length&&(f[d.key]=d.errors[0]);return{valid:l.every(d=>d.valid),results:s,errors:f,values:h,source:"fields"}}async function x(i,n){var l;const s=O(i);if(s&&(n==null?void 0:n.mode)!=="silent"&&(s.validated=!0),N){const{results:f}=await me((n==null?void 0:n.mode)||"validated-only");return f[i]||{errors:[],valid:!0}}return s!=null&&s.validate?s.validate(n):(!s&&(l=n==null?void 0:n.warn),Promise.resolve({errors:[],valid:!0}))}function Le(i){Xe($.value,i)}function bt(i,n,l=!1){we(i,n),U(c,i,n),l&&!(e!=null&&e.initialValues)&&U(W.value,i,p(n))}function we(i,n,l=!1){U($.value,i,p(n)),l&&U(W.value,i,p(n))}async function $e(){const i=J(N);if(!i)return{valid:!0,results:{},errors:{},source:"none"};v.value=!0;const n=it(i)||H(i)?await ir(i,c):await ar(i,c,{names:ue.value,bailsMap:oe.value});return v.value=!1,n}const pt=Ve((i,{evt:n})=>{lt(n)&&n.target.submit()});At(()=>{if(e!=null&&e.initialErrors&&D(e.initialErrors),e!=null&&e.initialTouched&&Ee(e.initialTouched),e!=null&&e.validateOnMount){Z();return}z.validateSchema&&z.validateSchema("silent")}),Ge(N)&&He(N,()=>{var i;(i=z.validateSchema)===null||i===void 0||i.call(z,"validated-only")}),Ke(Rt,z);function Fe(i,n){const l=M(n)||n==null?void 0:n.label,s=O(g(i))||Y(i,{label:l}),f=()=>M(n)?n(be(s,pe)):n||{};function h(){var S;s.touched=!0,((S=f().validateOnBlur)!==null&&S!==void 0?S:ie().validateOnBlur)&&x(g(s.path))}function d(){var S;((S=f().validateOnInput)!==null&&S!==void 0?S:ie().validateOnInput)&&k(()=>{x(g(s.path))})}function V(){var S;((S=f().validateOnChange)!==null&&S!==void 0?S:ie().validateOnChange)&&k(()=>{x(g(s.path))})}const E=P(()=>{const S={onChange:V,onInput:d,onBlur:h};return M(n)?Object.assign(Object.assign({},S),n(be(s,pe)).props||{}):n!=null&&n.props?Object.assign(Object.assign({},S),n.props(be(s,pe))):S});return[je(i,()=>{var S,F,T;return(T=(S=f().validateOnModelUpdate)!==null&&S!==void 0?S:(F=ie())===null||F===void 0?void 0:F.validateOnModelUpdate)!==null&&T!==void 0?T:!0}),E]}function Ot(i){return Array.isArray(i)?i.map(n=>je(n,!0)):je(i)}function St(i,n){const[l,s]=Fe(i,n);function f(){s.value.onBlur()}function h(V){const E=tt(V);q(g(i),E,!1),s.value.onInput()}function d(V){const E=tt(V);q(g(i),E,!1),s.value.onChange()}return P(()=>Object.assign(Object.assign({},s.value),{onBlur:f,onInput:h,onChange:d,value:l.value}))}function Vt(i,n){const[l,s]=Fe(i,n),f=O(g(i));function h(d){l.value=d}return P(()=>{const d=M(n)?n(be(f,pe)):n||{};return Object.assign({[d.model||"modelValue"]:l.value,[`onUpdate:${d.model||"modelValue"}`]:h},s.value)})}const We=Object.assign(Object.assign({},z),{values:wt(c),handleReset:()=>Ae(),submitForm:pt});return Ke(Bt,We),We}function or(e,t,r,a){const u={touched:"some",pending:"some",valid:"every"},o=P(()=>!ae(t,J(r)));function v(){const b=e.value;return B(u).reduce((c,y)=>{const j=u[y];return c[y]=b[j](A=>A[y]),c},{})}const m=Be(v());return Ft(()=>{const b=v();m.touched=b.touched,m.valid=b.valid,m.pending=b.pending}),P(()=>Object.assign(Object.assign({initialValues:J(r)},m),{valid:m.valid&&!B(a.value).length,dirty:o.value}))}function sr(e,t,r){const a=ct(r),u=G(a),o=G(p(a));function v(m,b){b!=null&&b.force?(u.value=p(m),o.value=p(m)):(u.value=le(p(u.value)||{},p(m)),o.value=le(p(o.value)||{},p(m))),b!=null&&b.updateFields&&e.value.forEach(c=>{if(c.touched)return;const j=L(u.value,g(c.path));U(t,g(c.path),p(j))})}return{initialValues:u,originalInitialValues:o,setInitialValues:v}}function cr(e,t){return t?{valid:e.valid&&t.valid,errors:[...e.errors,...t.errors]}:e}const dr=_t({name:"Form",inheritAttrs:!1,props:{as:{type:null,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1},name:{type:String,default:"Form"}},setup(e,t){const r=qe(e,"validationSchema"),a=qe(e,"keepValues"),{errors:u,errorBag:o,values:v,meta:m,isSubmitting:b,isValidating:c,submitCount:y,controlledValues:j,validate:A,validateField:_,handleReset:I,resetForm:D,handleSubmit:K,setErrors:Q,setFieldError:ue,setFieldValue:oe,setValues:te,setFieldTouched:se,setTouched:$,resetField:W}=ur({validationSchema:r.value?r:void 0,initialValues:e.initialValues,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:a,name:e.name}),ce=K((C,{evt:O})=>{lt(O)&&O.target.submit()},e.onInvalidSubmit),Se=e.onSubmit?K(e.onSubmit,e.onInvalidSubmit):ce;function de(C){De(C)&&C.preventDefault(),I(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function N(C,O){return K(typeof C=="function"&&!O?C:O,e.onInvalidSubmit)(C)}function Y(){return p(v)}function fe(){return p(m.value)}function ve(){return p(u.value)}function me(){return{meta:m.value,errors:u.value,errorBag:o.value,values:v,isSubmitting:b.value,isValidating:c.value,submitCount:y.value,controlledValues:j.value,validate:A,validateField:_,handleSubmit:N,handleReset:I,submitForm:ce,setErrors:Q,setFieldError:ue,setFieldValue:oe,setValues:te,setFieldTouched:se,setTouched:$,resetForm:D,resetField:W,getValues:Y,getMeta:fe,getErrors:ve}}return t.expose({setFieldError:ue,setErrors:Q,setFieldValue:oe,setValues:te,setFieldTouched:se,setTouched:$,resetForm:D,validate:A,validateField:_,resetField:W,getValues:Y,getMeta:fe,getErrors:ve,values:v,meta:m,errors:u}),function(){const O=e.as==="form"?e.as:e.as?jt(e.as):null,re=qt(O,t,me);return O?Et(O,Object.assign(Object.assign(Object.assign({},O==="form"?{novalidate:!0}:{}),t.attrs),{onSubmit:Se,onReset:de}),re):re}}}),mr=dr;export{mr as F};
